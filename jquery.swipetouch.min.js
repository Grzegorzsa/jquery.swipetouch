/*! Copyright (c) 2015 Grzegorz SarzyÅ„ski (http://zen-dev.pl)
 * Licensed under the GPL License.
 * Version: 1.0.3
 */
!function(t){function n(){return(new Date).getTime()}t.fn.swipeTouch=function(o){function e(t,n){var o,e={};for(o in t)e[o]=t[o];for(o in n)e[o]=n[o];return e}function i(t){return"undefined"!=typeof t}function s(){return i(o.swipeLeft)||i(o.swipeRight)||i(o.swipeDown)||i(o.swipeUp)}function c(o,e){var i=t(e).offset();d=!0,g=!1,v=!1,m=n(),a=parseInt(o.originalEvent.touches[0].clientX-i.left),w=parseInt(o.originalEvent.touches[0].clientY-i.top+t(window).scrollTop()),I.touchStart(o,e)}function u(o){var e,i,s,c,u,r,p,l=n();d&&(g?(e=t(o).offset(),i=parseInt(g.clientX-e.left),s=parseInt(g.clientY-e.top+t(window).scrollTop()),c=a-i,u=w-s,r=Math.abs(c),p=Math.abs(u),r>2*p?c>I.threshold?I.swipeLeft():c<-I.threshold&&I.swipeRight():p>2*r&&(u>I.threshold?I.swipeUp():u<-I.threshold&&I.swipeDown())):200>l-m&&(T+300>l?(T=0,I.dblTap()):(I.tap(),T=l))),I.touchEnd(o)}function r(){}function p(o,e){var i;d||(v=!0,i=t(e).offset(),a=parseInt(o.clientX-i.left),w=parseInt(o.clientY-i.top+t(window).scrollTop()),m=n()),I.mouseDown(o,e)}function l(o,e){var i,s,c,u=n();v&&(i=t(e).offset(),s=parseInt(o.clientX-i.left),c=parseInt(o.clientY-i.top+t(window).scrollTop()),(s==a&&c==w||m>u-150)&&(T+300>u?(T=0,I.dblClick()):(I.click(),T=u))),I.mouseUp(o,e)}function f(t){I.scroll||t.preventDefault(),g=t.originalEvent.targetTouches[0]}var h=t(this),a=0,w=0,d=!1,v=!1,m=0,T=0,g=!1,I={},D={click:r,dblClick:r,tap:r,dblTap:r,swipeLeft:r,swipeRight:r,swipeUp:r,swipeDown:r,touchStart:r,touchEnd:r,threshold:20,scroll:!0,mouseDown:r,mouseUp:r};return s()&&(D.scroll=!1),I=e(D,o),h.on("touchstart",function(t){c(t,this)}).on("touchend",function(){u(this)}).on("mousedown",function(t){p(t,this)}).on("mouseup",function(t){l(t,this)}),s()&&h.on("touchmove",f),this},t.fn.swipeTouchStop=function(){return t(this).off("touchstart touchend touchmove mousedown mouseup"),this}}(jQuery);
